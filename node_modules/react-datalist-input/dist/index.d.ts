import type { PropsWithChildren, HTMLAttributes, InputHTMLAttributes, ReactNode, CSSProperties, RefObject, MutableRefObject, SetStateAction, Dispatch } from 'react';
import React from 'react';
interface ComboboxContext {
    contextAvailable: boolean;
    listboxId?: string;
    selectedItemId?: string;
    isExpanded?: boolean;
}
declare const ComboboxContext: React.Context<ComboboxContext>;
declare const useComboboxContext: () => ComboboxContext;
/**
 * Use this hook to control the open state and input value of the combobox.
 * Pass the properties down to the DataListInput component.
 */
declare const useComboboxControls: (params?: {
    isExpanded: boolean;
    initialValue?: string | undefined;
} | undefined) => {
    isExpanded: boolean | undefined;
    value: string;
    setIsExpanded: (newState: boolean | undefined) => void;
    setValue: Dispatch<SetStateAction<string>>;
};
/**
 * An elegant way to style elements based on the current state of the component.
 * Inspired by react-router: https://v5.reactrouter.com/web/api/NavLink/classname-string-func
 */
declare type ClassNameFunction<Params> = (params: Params) => string;
declare type ClassName<Params> = HTMLAttributes<HTMLLIElement>['className'] | ClassNameFunction<Params>;
declare type useComoboxHelpersConfigParams = {
    itemsRef: MutableRefObject<Array<Item>>;
    listboxRef: RefObject<HTMLElement>;
    comboboxInputRef: RefObject<HTMLInputElement>;
    isExpandedRef: React.MutableRefObject<boolean>;
    onSelect?: (item: Item) => void;
    setIsExpanded?: (isExpanded: boolean) => void;
    setValue?: (value: string) => void;
    setSelectedItem?: (item: Item) => void;
};
/**
 * The helpers returned by this hook can be used
 * to construct a custom Combobox behavior to your liking.
 * Wrap the low-level components in the Combobox component
 * and pass the helpers down if you need them.
 */
declare const useComboboxHelpers: ({ itemsRef, listboxRef, comboboxInputRef, onSelect, isExpandedRef, setIsExpanded, setValue, setSelectedItem, }: useComoboxHelpersConfigParams) => {
    closeOnEscape: (e: KeyboardEvent) => void;
    handleClickOutside: (e: MouseEvent) => void;
    handleFocusOutside: () => void;
    handleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
    expandOnFocus: () => void;
    handleSelect: (item: Item) => void;
    handleKeyDownOnInput: (e: React.KeyboardEvent<HTMLInputElement>) => void;
    handleKeyDownOnListboxOption: (e: React.KeyboardEvent<HTMLLIElement>) => void;
};
interface ComboboxInputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'value'> {
    value?: string;
}
/**
 * The textbox input field.
 * Does currently not implement aria-activedescendant which is not obligatory for datalist input components.
 * Autocomplete off to prevent browser autocomplete from interfering with our own; can be overriden with props.
 */
declare const ComboboxInput: React.ForwardRefExoticComponent<ComboboxInputProps & React.RefAttributes<HTMLInputElement>>;
interface HighlightProps extends HTMLAttributes<HTMLElement> {
    currentInput?: string;
    as?: 'mark' | 'span';
}
/**
 * Optional highlight component for the listbox option text.
 * Should be wrapped by ListboxOption. Provide ListBoxOption an aria-label to ensure accessibility, especially if using mark.
 */
declare const Highlight: React.FC<PropsWithChildren<HighlightProps>>;
declare type ListboxOptionClassNameParams = {
    isSelected: boolean;
};
declare type ListboxOptionProps = Omit<HTMLAttributes<HTMLLIElement>, 'className'> & {
    className?: ClassName<ListboxOptionClassNameParams>;
};
/**
 * One listbox option.
 */
declare const ListboxOption: React.ForwardRefExoticComponent<Omit<HTMLAttributes<HTMLLIElement>, "className"> & {
    className?: ClassName<ListboxOptionClassNameParams>;
} & React.RefAttributes<HTMLLIElement>>;
declare type ListboxProps = HTMLAttributes<HTMLUListElement>;
/**
 * The combobox popup list.
 */
declare const Listbox: React.ForwardRefExoticComponent<ListboxProps & React.RefAttributes<HTMLUListElement>>;
interface ComboboxProps {
    listboxId?: ComboboxContext['listboxId'];
    selectedItemId?: ComboboxContext['selectedItemId'];
    isExpanded?: ComboboxContext['isExpanded'];
}
declare type Combobox = React.FC<PropsWithChildren<ComboboxProps>> & {
    ComboboxInput: typeof ComboboxInput;
    Listbox: typeof Listbox;
    ListboxOption: typeof ListboxOption;
    Highlight: typeof Highlight;
};
/**
 * A container that you can pass all low-level components yourself for advanced use-cases.
 * The Combobox provides the context for the combobox low-level components.
 */
declare const Combobox: Combobox;
interface Item extends Record<string, any> {
    id: string;
    value: string;
    node?: ReactNode;
    label?: string;
}
declare type Filter = (items: Array<Item>, value?: ComboboxInputProps['value']) => Array<Item>;
/**
 * Default function for matching the current input value (needle) and the values of the items array.
 * Returns true if item.value is not of type string (all items will be displayed and a custom filter must be used).
 */
declare const startsWithValueFilter: Filter;
declare const useFilters: (items: Array<Item>, value: ComboboxInputProps['value'], filters: Array<Filter>) => [Array<Item>, MutableRefObject<Array<Item>>];
declare type LabelOptionProps = {
    showLabel?: false;
    label: string;
} | {
    showLabel?: true;
    label: ReactNode;
};
declare type LabelProps = HTMLAttributes<HTMLLabelElement>;
declare type DatalistInputProps = LabelOptionProps & Omit<HTMLAttributes<HTMLDivElement>, 'onSelect'> & {
    items: Array<Item>;
    selectedItem?: Item;
    value?: ComboboxInputProps['value'];
    setValue?: useComoboxHelpersConfigParams['setValue'];
    onSelect?: useComoboxHelpersConfigParams['onSelect'];
    isExpanded?: ComboboxContext['isExpanded'];
    setIsExpanded?: useComoboxHelpersConfigParams['setIsExpanded'];
    placeholder?: ComboboxInputProps['placeholder'];
    filters?: Array<Filter>;
    inputProps?: ComboboxInputProps;
    labelProps?: LabelProps;
    listboxProps?: ListboxProps;
    listboxOptionProps?: ListboxOptionProps;
    isExpandedClassName?: string;
    isCollapsedClassName?: string;
    isExpandedStyle?: CSSProperties;
    isCollapsedStyle?: CSSProperties;
};
/**
 * DatalistInput implements all lower-level components for you and provides a simple API for controlling the combobox.
 * Note: Use the useComboboxControls hook to control the value and expanded state of the combobox.
 * DatalistInput implements the ARIA1.2#comboBox specification, including keyboard navigation with ArrowUp and ArrowDown.
 * DatalistInput does currently not implement aria-activedescendant but shifts the focus to the listbox options on ArrowUp and ArrowDown.
 * Note: tabIndex of all listbox options is set to -1 to allow the user to use tab or shift tab to jump out of the datalist without the need to tab through all options.
 */
declare const DatalistInput: React.ForwardRefExoticComponent<DatalistInputProps & React.RefAttributes<HTMLDivElement>>;
export type { DatalistInputProps, ComboboxProps, ComboboxInputProps, ListboxProps, ListboxOptionProps, HighlightProps, useComoboxHelpersConfigParams, Item, Filter, };
export { Combobox, DatalistInput, startsWithValueFilter, useFilters, useComboboxContext, useComboboxControls, useComboboxHelpers, };
export default DatalistInput;
